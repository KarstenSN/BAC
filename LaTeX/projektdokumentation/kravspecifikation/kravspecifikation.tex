\chapter{Kravspecifikation} \label{ch:kravspecifikation}
I det følgende afsnit opstilles de funktionelle og ikke-funktionelle krav til systemt. De funktionelle krav er prioriteret efter MoSCoW-modellen. 
Denne model benyttes til at sikre en målrettet projektudvikling. Hvert individuelt krav tildeles en prioritering, hermed kan opnås størst fokus på de mest systemkritiske krav, metoden er beskrevet nærmere i afsnit \ref{sec:moscow}. De ikke-funktionelle krav er arrangeret efter FURPS+ modellen, nærmere beskrevet i afsnit \ref{sec:furps}. 


%---------------------------------------------------------------------------------------
%									FUNKTIONELLE KRAV
%---------------------------------------------------------------------------------------

\section{Funktionelle krav} \label{sec:funktionelle_krav}
I det følgende afsnit opstilles de funktionelle krav til systemet. Disse krav skal opfyldes for at systemet betragtes som fuldt funktionelt. Kravene listes med et unik ID således de kan spores tilbage igennem hele dokumentationen. Kravenes ID er givet ved:

\begin{itemize} \itemsep0em
\item	\texttt{MC}: \textit{Mechanical Contraints:} Dette er de mekaniske krav til systemet
\item	\texttt{EL}: \textit{Electrical Contraints:} Dette er de elektriske krav til systemet
\item	\texttt{CM}: \textit{Communications Contraints:} Dette er de krav der vedrører kommunikation i systemet
\item 	\texttt{UX}: \textit{User Experience:} Dette er de bruger-relaterede krav til systemet
\end{itemize} 



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%TABEL udkommenterer%%%%%%%%%%%%%%%%%%%
\iffalse 
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | L{1.9 cm}| m{2.9 cm} |} \hline
	\textbf{ID:} 		& \textbf{Krav:}		& \textbf{Prioritet:} 	& \textbf{Kommentarer:} 								\\ \hline
MC\_01	& Systemet skal bestå af en sensor samt en kontrolboks												& \textit{Must}	 & 	\\ \hline
MC\_02	& Systemet skal kunne pre-indstilles til en specifik afgrøde 										& \textit{Could} &  \\ \hline
MC\_03	& Systemet skal kunne betjenes fra en smartphone-applikation										& \textit{Would} &  \\ \hline
MC\_04	& Systemet skal kunne tilsluttes flere sensorer														& \textit{Would} &  \\ \hline
MC\_05	& Sensoren skal måle temperatur, jordfugtighed samt lysintensitet									& \textit{Must}  & 	\\ \hline
MC\_06	& Kontrolboks og sensor skal kunne passe i plasthus (B:83mmm H:59mm, D:34mm)						& \textit{Must}  & 	\\ \hline
MC\_07	& Display'et må have maksimal mål på (B:53mmm H:22mm)												& \textit{Must}  & 	\\ \hline
MC\_08	& Display'et skal være baggrundsbelyst																& \textit{Must}  & 	\\ \hline
MC\_09	& Tasteturet må have maksimal mål på (B:70mmm H:23mm)												& \textit{Must}  & 	\\ \hline
MC\_10	& Motorventilen skal kunne tilsluttes 1/2" vandrør													& \textit{Must}  & 	\\ \hline
EL\_01	& Sensoren skal være batteridrevet																	& \textit{Must}	 & 	\\ \hline
EL\_02	& Kontrolboksen skal drive en indbygget motorventil til at åbne og lukke for vandet					& \textit{Must}	 & 	\\ \hline
EL\_03	& Kontrolboksen skal kunne forsynes med en 3. parts 5V AC/DC adaptor								& \textit{Must}	 & 	\\ \hline
CM\_01	& Kontrolboksen skal kunne udveksle data med sensoren via en trådløs forbindelse					& \textit{Must}	 & 	\\ \hline
CM\_02	& Kommunikation fra sensor til kontrolboks skal virke ved minimum 30m								& \textit{Should}& 	\\ \hline
CM\_03	& Sensor og kontrolboks skal parres manuelt 														& \textit{Must}	 & 	\\ \hline
UX\_01	& Kontrolboksen skal indeholde UI i form af keypad og display										& \textit{Must}	 & 	\\ \hline
UX\_02	& Kontrolboksen skal kunne måle om slangen er frakoblet og give fejlmelding 						& \textit{Should}& 	\\ \hline
UX\_03	& Brugeren skal have mulighed for at åbne/lukke for ventilen manuelt på kontrolboksen				& \textit{Must}	 & 	\\ \hline
UX\_04	& Brugeren skal kunne indstille et ønsket vandingsinterval											& \textit{Must}	 & 	\\ \hline
UX\_05	& Brugeren skal kunne indstille en ønsket jordfugtighed på kontrolboksen.							& \textit{Must}	 & 	\\ \hline
UX\_06	& Brugeren skal kunne indstille en tidsbaseret vandingssekvens										& \textit{Must}  & 	\\ \hline
UX\_07	& Brugeren skal kunne vælge automatisk vandingstidsrum, eks. morgen, aften, begge eller uafhængig 	& \textit{Must}	 & 	\\ \hline		
	\end{tabularx}
	\caption{Funktionelle krav}
	\label{tbl:funk_krav}
\end{table}
\newpage
\fi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage


\subsection{MoSCoW} \label{sec:moscow}

\textbf{Must}

\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														 & \textbf{Kommentarer:} 	\\ \hline
		MC\_01 	& Systemet skal bestå af en sensor samt en kontrolboks                              &	\\ \hline
		MC\_02	& Sensoren skal måle temperatur, jordfugtighed samt lysintensitet	                &	\\ \hline
		MC\_03	& Kontrolboksen skal vise jordfugtighed og temperatur på et display				    &	\\ \hline
		MC\_04	& Kontrolboksen skal indeholde et tastatur										    &	\\ \hline
		MC\_05	& Kontrolboksen skal drive en indbygget motorventil til at åbne og lukke for vandet	&	\\ \hline
		EL\_01	& Sensoren skal være batteridrevet									                &	\\ \hline
		EL\_02	& Kontrolboksen skal kunne forsynes med en 3. parts 5V AC/DC adaptor				&	\\ \hline
		CM\_01	& Kontrolboksen skal kunne udveksle data med sensoren via en trådløs forbindelse 	&	\\ \hline
		CM\_02	& Sensor og kontrolboks skal parres manuelt 										&	\\ \hline
		UX\_01	& Brugeren skal have mulighed for at åbne/lukke for ventilen manuelt på kontrolboksen &	\\ \hline
		UX\_02	& Brugeren skal kunne indstille en ønsket jordfugtighed på kontrolboksen			&	\\ \hline
		UX\_03	& Brugeren skal kunne indstille en åbningstid for ventilen   						&	En tid som ventilen er åben i, hver gang der vandes\\ \hline
		UX\_04	& Brugeren skal kunne vælge automatisk vandingstidsrum								&	Eks. morgen, aften, begge eller uafhængig\\ \hline
	\end{tabularx}
	\caption{Must krav}
	\label{tbl:must_krav}
\end{table}

\textbf{Should}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														 & \textbf{Kommentarer:} 	\\ \hline
		CM\_03	& Kommunikation fra sensor til kontrolboks skal virke ved minimum 30m				&	\\ \hline
		UX\_05	& Kontrolboksen skal kunne måle om slangen er sprunget fra, og give fejlmelding 	&	\\ \hline
		UX\_06	& Brugeren skal kunne indstille en tidsbaseret vandingssekvens						&	Eks. 25 min hver 3. time\\ \hline
	\end{tabularx}
	\caption{Should krav}
	\label{tbl:should_krav}
\end{table}

\textbf{Could}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														 & \textbf{Kommentarer:} 	\\ \hline
		MC\_06	& Systemet skal kunne pre-indstilles til en specifik afgrøde 	&	\\ \hline
		MC\_07  & Systemet skal kunne måle PH-værdien i jorden					&	\\ \hline
 	\end{tabularx}
	\caption{Could krav}
	\label{tbl:could_krav}
\end{table}

\pagebreak

\textbf{Would}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														 & \textbf{Kommentarer:} 	\\ \hline
		MC\_08	& Systemet skal kunne betjenes fra en smartphone-applikation	&	\\ \hline
		MC\_09	& Systemet skal kunne indeholde flere sensor/kontrolboks par	&	\\ \hline
	\end{tabularx}
	\caption{Would krav}
	\label{tbl:would_krav}
\end{table}


%---------------------------------------------------------------------------------------
%									IKKE-FUNKTIONELLE KRAV
%---------------------------------------------------------------------------------------

\section{Ikke-Funktionelle krav} \label{sec:ikke_funktionelle_krav}
\subsection{FURPS+} \label{sec:furps}
De ikke funktionelle krav til systemet opstilles efter FURPS+ modellen udviklet af Hewlett-Packard.Denne metode benyttes til at klassificere og administrere funktionelle og ikke-funktionelle krav, her benyttes modellen primært til håndtering af sidstnævnte.
Modellen inddeler kravsættet i følgende undergrupper.

\begin{itemize} \itemsep0em
	\item 	Functionality (funktionalitet)
	\item	Usability (Brugervenlighed)
	\item	Reliability (Driftsikkerhed)
	\item	Performance (Performance)
	\item	Supportability (Vedligeholdelse)
	\item	+ (Design and Fysiske begrænsninger, Interfaces)
\end{itemize}

Funktionalitetskravene er der taget hånd om i afsnit \ref{sec:funktionelle_krav}. De ikke funktionelle krav listes i de efterfølgende tabeller. Ligesom de funktionelle krav tildeles disse også et ID. Disse er givet ved:

\begin{itemize} \itemsep0em
\item	\texttt{US}: \textit{Usability Contraints:} Dette er de krav der relaterer sig til Brugervenlighed
\item	\texttt{RI}: \textit{Reliablity Contraints:} Dette er de krav der relaterer sig til Driftsikkerhed
\item	\texttt{PF}: \textit{Performance Contraints:} Dette er de krav der relaterer sig til Performance
\item 	\texttt{SP}: \textit{Supportability contraints:} Dette er de krav der relaterer sig til Vedligeholdelse
\end{itemize} 

\newpage
\textbf{Brugervenlighed}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														 & \textbf{Kommentarer:} 	\\ \hline
		US\_01		 & Tastaturet skal bestå af 4 taktile trykknapper						 &	\\ \hline
		US\_02		 & Tastaturet skal indeholde 1 rød LED til indikation af fejl 			 &	\\ \hline
		US\_03		 & Tastaturet skal have et størrelse på B:70mmm H:23mm					 &	\\ \hline
		US\_04		 & Displayet skal kunne vise jordfugtighed samt temperatur				 &	\\ \hline
		US\_05		 & Displayet skal kunne vise systemets menuer							 &	\\ \hline
		US\_06       & Displayet skal have en størrelse på B:53mmm H:22mm					 &  \\ \hline
		US\_07       & Displayet skal være baggrundsbelyst			     					 &  \\ \hline
		US\_08		 & Motorventilen skal kunne tilsluttes 1/2" vandrør						 &  \\ \hline
		US\_09		 & Printplader til kontrolboks og sensor skal monteres i et plasthus med en størrelse på B:83mmm H:59mm, D:34mm &  \\ \hline
	\end{tabularx}
	\caption{Krav til brugervenlighed}
	\label{tbl:brugervenlighed_krav}
\end{table}
	
\textbf{Driftsikkerhed}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} 	& \textbf{Krav:}																& \textbf{Kommentarer:} \\ \hline
		RI\_01		 	& Lav batterispænding (1.8V) skal indikeres med en rød LED på tastaturet		& \\ \hline
		RI\_02			& Lav forsyningsspænding (4.5V) skal indikeres med en rød LED på tastaturet 	& \\ \hline
	\end{tabularx}
	\caption{Krav til driftsikkerhed}
	\label{tbl:driftsikkerhed_krav}
\end{table}

\textbf{Performance}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														& \textbf{Kommentarer:} \\ \hline

		PF\_01		 & Sensorens batteritype skal være 2 stk AAA							& \\ \hline
		PF\_02		 & Sensorens batterilevetid skal være minimum 1 år						& \\ \hline
		PF\_03		 & Sensoren skal fungerer ned til 1.8V batterispænding 					& \\ \hline		
		PF\_04		 & Minimum 10 instanser af systemet skal kunne køre samtidig			& \\ \hline
		PF\_05		 & Temperatursensoren skal kunne måle i området $ -20^{\circ}C$ til $70 ^{\circ}C $								& \\ \hline
		PF\_06		 & Jordfugtigheden skal kunne måles med en præcision på minimum 5\%		& \\ \hline
		PF\_07		 & Kommunikation mellem kontrolboks og sensor skal ske på under 1 sekund	& \\ \hline
		PF\_08		 & Kontrolboksen skal kunne vise temperatur og jordfugtighed med 1 decimals afstand	& \\ \hline
		PF\_09		 & Sensor og kontrolboks skal være funktionsdygtig i temperaturområdet $ 0^{\circ}C$ til $70 ^{\circ}C $	 		& \\ \hline

	\end{tabularx}
	\caption{Krav til performance}
	\label{tbl:performance_krav}
\end{table}

\textbf{Vedligeholdelse}
\begin{table}[H]
	\begin{tabularx}{\textwidth}{| m{1.5 cm} | Z | m{2.9 cm} |} \hline
		\textbf{ID:} & \textbf{Krav:}														& \textbf{Kommentarer:} \\ \hline
		SP\_01		 & Systemet skal kun vedligeholdes i forbindelse med batteriskift 		& \\ \hline
		SP\_02		 & Batteriet skal være let tilgængelig 									& \\ \hline
		SP\_03		 & Brugeren skal selv kunne skifte batteri på sensor-enheden			& \\ \hline
	\end{tabularx}
	\caption{Krav til vedligeholdelse}
	\label{tbl:vedligeholdelse_krav}
\end{table}

%--------------------------------------------------------------------------------------
%												USE CASES
%--------------------------------------------------------------------------------------
\newpage
\section{Use Cases} \label{sec:use_cases}
Ud fra de funktionelle krav i sektion \ref{sec:funktionelle_krav} opstilles følgende use cases som ses på figur \ref{fig:UCdiagram}

\begin{figure}[H]
\centering
\includegraphics[width=0.8\textwidth]{../fig/Systemarkitektur/Usecases.pdf}
\caption{Use cases over systemet}
\label{fig:UCdiagram}
\end{figure}
\newpage

% UC1:  Aktiver system
\input{Kravspecifikation/usecases/uc1}
\newpage

% UC2:  Aflæs data
\input{Kravspecifikation/usecases/uc2}
\newpage

% UC3:  Indstil ønsket fugtighed i jorden
\input{Kravspecifikation/usecases/uc3}
\newpage

% UC4:  Indstil åbningstid for ventil
\input{Kravspecifikation/usecases/uc4}
\newpage

% UC5:Indstil tidsbaseret vandingsinterval
\input{Kravspecifikation/usecases/uc5}
\newpage

% UC6:Åbn/luk for ventil
\input{Kravspecifikation/usecases/uc6}
\newpage

% UC7:Vælg automatisk vandingstidspunkt 
\input{Kravspecifikation/usecases/uc7}
\newpage

% UC8:Par sensor og kontrolboks 
\input{Kravspecifikation/usecases/uc8}

\cleartorightpage